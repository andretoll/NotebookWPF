<UserControl x:Class="NotebookWPF.View.UserControls.NotebooksUserControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:NotebookWPF.View.UserControls"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <StackPanel>
        <DockPanel>
            <StackPanel Margin="0 10 30 0"
                    Orientation="Vertical">
                <TextBlock Text="{Binding Name}"
                   Style="{StaticResource LargeText}"/>
                <TextBlock Text="{Binding NoteCount, StringFormat='({0} notes)'}"
                   Style="{StaticResource SmallText}"/>
            </StackPanel>
            <StackPanel HorizontalAlignment="Right"
                        VerticalAlignment="Bottom" 
                        Margin="5">
                <Button ToolTip="Delete"
                        Width="30"
                        Height="30"
                        Command="{Binding 
                                    RelativeSource={RelativeSource 
                                    Mode=FindAncestor, 
                                    AncestorType={x:Type ListBox}}, 
                                    Path=DataContext.DeleteNotebookCommand}"
                        CommandParameter="{Binding Id}"
                        Grid.Column="2">
                    <Button.Style>
                        <Style TargetType="{x:Type Button}">
                            <Setter Property="Visibility" Value="Hidden"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type ListBoxItem}}, Path=IsMouseOver}" Value="True">
                                    <Setter Property="Visibility" Value="Visible" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                    <StackPanel Orientation="Horizontal">
                        <!--- Draw Icon -->
                        <Rectangle Width="15"
                                   Height="15"
                                   Fill="{Binding Path=Foreground, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Button}}}">
                            <Rectangle.OpacityMask>
                                <VisualBrush Stretch="Fill" Visual="{DynamicResource appbar_delete}" />
                            </Rectangle.OpacityMask>
                        </Rectangle>
                    </StackPanel>
                </Button>
            </StackPanel>
        </DockPanel>
              

        <!--- Separator -->
        <StackPanel Margin="0 10 0 0" Orientation="Vertical">
            <Separator Style="{StaticResource {x:Static ToolBar.SeparatorStyleKey}}"
                       Opacity="0.5"/>
        </StackPanel>
    </StackPanel>
</UserControl>
